{% extends 'base.html' %}

{% block title %} {{object.title}} {% endblock %}

{% block content %}

<h2>{{ object.title }}</h2>
  <p>{{ object.place }} {{ object.season }} {{ object.type }} {{ object.price }} {{ object.duration }}</p>

{% if messages %}
    <div>
      {% for message in messages %}
        <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">
          {{ message }}
        </div>
      {% endfor %}
    </div>
  {% endif %}

  {% if user.is_authenticated %}
        <form method="POST" action="{% url 'vacation:like' object.pk %}">
          {% csrf_token %}
          {% if user in object.likes.all %}
            <button type="submit" class="btn btn-danger">{{ object.like_count }} ‚ù§Ô∏è like</button>
          {% else %}
            <button type="submit" class="btn btn-primary">{{ object.like_count }} ü©∂ like</button>
          {% endif %}
        </form>
      {% else %}
        <button type="button" class="btn btn-danger" disabled>{{ object.like_count }} ‚ù§Ô∏è like</button>
      {% endif %}



  <h3>Aggiungi a una Lista</h3>
  <form method="post">
    {% csrf_token %}
    {{ form.as_p }}
    <button type="submit" class="btn btn-primary">Aggiungi</button>
  </form>


<a href="{% url 'vacation:editvacation' object.pk %}">Modifica Vacanza</a>
<a href="{% url 'vacation:deletevacation' object.pk %}">Elimina Vacanza</a>

<a href="{% url 'homepage' %}">Torna alla Home</a>
<a href="{% url 'vacation:vacationlist' %}">Lista Vacanze</a>

<a href="{% url 'vacation:myprofile' %}">Profilo</a>

{% endblock %}
